# 应用配置
app:
  name: yqhp-gulu
  version: 1.0.0
  env: dev # dev, test, prod

# 服务器配置
server:
  port: 5321
  host: 0.0.0.0
  read_timeout: 60
  write_timeout: 60

# 数据库配置 (与 admin 共享同一数据库)
database:
  driver: mysql
  host: 127.0.0.1
  port: 3306
  username: root
  password: 123456
  database: yqhp_admin
  charset: utf8mb4
  max_idle_conns: 10
  max_open_conns: 100
  conn_max_lifetime: 3600

# Redis配置 (与 admin 共享，用于 SSO Token 验证)
redis:
  host: 127.0.0.1
  port: 6379
  password: "123456"
  db: 0

# 日志配置
log:
  level: debug # debug, info, warn, error
  format: text # json, text
  output: stdout # stdout, file
  file_path: ./logs/app.log
  max_size: 100 # MB
  max_backups: 7
  max_age: 30 # days

# SaToken配置 (与 admin 保持一致，用于 SSO Token 验证)
sa_token:
  token_name: satoken
  token_style: jwt
  timeout: 86400
  active_timeout: 1800
  is_concurrent: true
  is_share: true
  max_login_count: 12
  is_log: true
  jwt_secret_key: yqhp-admin-jwt-secret-key-2024

# Gulu 应用配置
gulu:
  app_code: gulu # 应用编码，用于权限过滤
  admin_url: http://localhost:5320 # Admin 服务地址

# Workflow Engine 配置
workflow_engine:
  embedded: true # 是否使用内置 Master（默认 true）
  external_url: "" # 外部 Master 地址（embedded=false 时使用）
  http_address: ":8080" # HTTP 服务地址（Master 监听地址）
  standalone: true # 独立模式（true=本地执行，false=分发到Slave执行）
  max_executions: 100 # 最大并发执行数
  heartbeat_timeout: 30s # Slave 心跳超时
  debug: false # 是否启用调试日志


# Qdrant 向量数据库配置
qdrant:
  host: 127.0.0.1
  port: 6334           # gRPC 端口
  api_key: ""          # 可选，Qdrant Cloud 时需要
  use_tls: false       # 是否使用 TLS
  collection_prefix: "kb_"  # Collection 名称前缀

# Neo4j 图数据库配置（Phase 3）
# neo4j:
#   uri: bolt://127.0.0.1:7687
#   username: neo4j
#   password: neo4j
#   database: neo4j

  # 指标输出配置（可选）
  # 支持将压测指标输出到 InfluxDB、Kafka、JSON 文件等
  # outputs:
  #   # InfluxDB 输出 (1.x 版本)
  #   - type: influxdb
  #     url: http://localhost:8086?db=workflow_metrics
  #
  #   # InfluxDB 输出 (2.x 版本)
  #   # - type: influxdb
  #   #   url: http://localhost:8086?token=your-token&org=your-org&bucket=workflow-metrics
  #
  #   # Kafka 输出
  #   # - type: kafka
  #   #   url: localhost:9092?topic=workflow-metrics&format=json
  #
  #   # JSON 文件输出
  #   # - type: json
  #   #   url: /var/log/workflow-metrics.json
