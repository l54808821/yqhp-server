# 多步骤工作流示例
# 运行: ./workflow-engine run examples/04-multi-step.yaml

id: multi-step-workflow
name: Multi-Step Workflow
description: 包含多个步骤的工作流示例

steps:
  # 步骤 1: 获取用户列表
  - id: get_users
    name: Get Users
    type: http
    config:
      method: GET
      url: "https://httpbin.org/get"
      query:
        type: "users"
    timeout: 30s

  # 步骤 2: 创建新用户
  - id: create_user
    name: Create User
    type: http
    config:
      method: POST
      url: "https://httpbin.org/post"
      headers:
        Content-Type: "application/json"
      body: |
        {
          "name": "new-user",
          "email": "new@example.com"
        }
    timeout: 30s

  # 步骤 3: 更新用户
  - id: update_user
    name: Update User
    type: http
    config:
      method: PUT
      url: "https://httpbin.org/put"
      headers:
        Content-Type: "application/json"
      body: |
        {
          "name": "updated-user"
        }
    timeout: 30s

  # 步骤 4: 删除用户
  - id: delete_user
    name: Delete User
    type: http
    config:
      method: DELETE
      url: "https://httpbin.org/delete"
    timeout: 30s
